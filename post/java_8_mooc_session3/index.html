<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
    <meta charset="utf-8">
    <meta name="google-site-verification" content="UA-25393690-2">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="description" content="">
<meta name="keywords" content="java, svqjug, java8, ">

 
<meta property="og:type" content="article"/>
<meta property="og:description" content=""/>
<meta property="og:title" content="Java 8 MOOC - Session 3 Summary : trishagee.github.io"/>
<meta property="og:site_name" content="Trisha Gee"/>
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="/post/java_8_mooc_session3/">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2015-08-04"/>
<meta property="article:modified_time" content="2015-08-04"/>

<meta property="article:tag" content="java">
<meta property="article:tag" content="svqjug">
<meta property="article:tag" content="java8">



<meta name="twitter:card" content="summary">

<meta name="twitter:site" content="@trisha_gee">
<meta name="twitter:title" content="Java 8 MOOC - Session 3 Summary : trishagee.github.io">
<meta name="twitter:creator" content="@trishagee">
<meta name="twitter:description" content="">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="trishagee.github.io">



    <base href="">
    <title> Java 8 MOOC - Session 3 Summary - trishagee.github.io </title>
    <link rel="canonical" href="/post/java_8_mooc_session3/">
    

    <link href='http://fonts.googleapis.com/css?family=Fjalla+One|Open+Sans:300' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/static/css/style.css">
<link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/default.min.css">
<script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

    <link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/default.min.css">
    <script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
</head>

<body lang="en" itemscope itemtype="http://schema.org/Article">
<header id="header">
    <div id="byline">by Trisha Gee</div>
    <nav id="nav">
        <ul id="mainnav">
    <li>
        <a href="/post/">
            <span class="icon"> <i aria-hidden="true" class="icon-quill"></i></span>
            <span> blog </span>
        </a>
    </li>
    <li>
        <a href="/project/">
            <span class="icon"> <i aria-hidden="true" class="icon-console"></i></span>
            <span> code </span>
        </a>
    </li>
    <li>
        <a href="/presentation/">
            <span class="icon"> <i aria-hidden="true" class="icon-stats"></i></span>
            <span> talks </span>
        </a>
    </li>
    <li>
        <a href="/resources/">
            <span class="icon"> <i aria-hidden="true" class="icon-gears"></i></span>
            <span> resources </span>
        </a>
    </li>
</ul>

        <ul id="social">
    <li id="share">
        <span class="icon icon-bubbles"> </span>
        <span class="title"> share </span>

        <div class="dropdown share">
            <ul class="social">
                <li><a href="https://twitter.com/intent/tweet?status=Java%208%20MOOC%20-%20Session%203%20Summary-%2fpost%2fjava_8_mooc_session3%2f" target="_blank"
                       title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a></li>
                <li><a href="https://www.facebook.com/sharer/sharer.php?u=%2fpost%2fjava_8_mooc_session3%2f" target="_blank" title="Join me on Facebook"
                       class="facebook"><span class="icon icon-facebook"></span>Facebook</a></li>
                <li><a href="https://plus.google.com/share?url=%2fpost%2fjava_8_mooc_session3%2f" target="_blank" title="Google+" class="googleplus"><span
                        class="icon icon-google-plus"></span>Google+</a></li>
                <li><a href="http://www.linkedin.com/shareArticle?mini=true&url=%2fpost%2fjava_8_mooc_session3%2f&title=Java%208%20MOOC%20-%20Session%203%20Summary&source=spf13"
                       target="_blank" title="LinkedIn" class="linkedin"><span class="icon icon-linkedin"></span>LinkedIn</a></li>
                <li><a href="http://www.reddit.com/submit?url=%2fpost%2fjava_8_mooc_session3%2f" target="_blank" title="Reddit" class="reddit"><span
                        class="icon icon-reddit"></span>Reddit</a></li>
                <li><a href="http://www.stumbleupon.com/submit?url=%2fpost%2fjava_8_mooc_session3%2f" target="_blank" title="StumbleUpon"
                       class="stumbleupon"><span class="icon icon-stumbleupon"></span>StumbleUpon</a></li>
            </ul>
            <span class="subcount">sharing is caring</span>
        </div>
    </li>
    <li id="follow">
        <span class="icon icon-rocket"> </span>
        <span class="title"> follow </span>

        <div class="dropdown follow">
            <ul class="social">
                <li><a href="http://trishagee.github.io/index.xml" target="_blank" title="Subscribe by RSS" class="rss"><span
                        class="icon icon-feed-2"></span>RSS</a></li>
                <li><a href="http://www.twitter.com/trisha_gee" target="_blank" title="Follow me on Twitter" class="twitter"><span
                        class="icon icon-twitter"></span>Twitter</a></li>
                <li><a href="http://www.linkedin.com/in/trishagee" target="_blank" title="LinkedIn" class="linkedin"><span class="
                        icon icon-linkedin"></span>LinkedIn</a></li>
                <li><a href="http://github.com/trishagee" target="_blank" title="GitHub" class="github"><span class="
                        icon icon-github"></span>GitHub</a></li>
                <li><a href="http://www.slideshare.net/trishagee" target="_blank" title="SlideShare" class="slideshare"><span
                        class="icon icon-slideshare"></span>SlideShare</a></li>
                <li><a href="https://plus.google.com/+TrishaGee/" target="_blank" title="Google+" class="googleplus"><span
                        class="icon icon-google-plus"></span>Google+</a></li>
            </ul>
            <span class="subcount"></span>
        </div>
    </li>
</ul>

    </nav>
</header>



<section id="main">
  <h1 itemprop="name" id="title">Java 8 MOOC - Session 3 Summary</h1>
  <div>
        <article itemprop="articleBody" id="content">
           <p>Last night was the final get-together to discuss the
<a href="https://apexapps.oracle.com/pls/apex/f?p=44785:145:0::::P145_EVENT_ID,P145_PREV_PAGE:4887,143">Java 8 MOOC</a>. Any
event hosted in August in a city that is regularly over 40&deg;C is going to face challenges, so it was great that
we had attendees from earlier sessions plus new people too.</p>

<p><img src="/static/images/java8mooc/lesson3.jpg" alt="Woohoo lambdas!" title="Woohoo lambdas!" />
</p>

<p>The aim of this session was to talk about Lesson 3, but also to wrap up the course as a whole: to talk about what we
liked and what we would have improved (about both the course itself and our user group events).</p>

<p>As in the previous <a href="/post/java_8_mooc_session1">two</a> <a href="/post/java_8_mooc_session2">posts</a>, let&rsquo;s outline our
discussion areas:</p>

<p><strong><a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findAny--">findAny()</a>
vs <a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--">findFirst()</a></strong>: Why do we
need both of these methods, and when would you use them?</p>

<p>Well, <code>findFirst()</code> is the deterministic version, which will return you the first element in the Stream (according to
encounter order - see the section on
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html">Ordering in the documentation</a>).
So, regardless of whether you run the operation in parallel or serial, if you&rsquo;re looking for &ldquo;A&rdquo; and use <code>findFirst</code>
with this list:</p>

<pre><code>[&quot;B&quot;, &quot;Z&quot;, &quot;C&quot;, &quot;A&quot;, &quot;L&quot;, &quot;K&quot;, &quot;A&quot;, &quot;H&quot;]
</code></pre>

<p>you&rsquo;ll get the element at index 3 - the first &ldquo;A&rdquo; in the list.</p>

<p>But <code>findAny()</code> is non-deterministic, so will return you any element that matches your criteria - it could return the
element at index 3, or the one at position 6. Realistically, if the stream is on an ordered collection like a list,
when you run <code>findAny</code> on a sequential stream, I expect it will return the same result as <code>findFirst</code>.  The real
use-case for <code>findAny</code> is when you&rsquo;re running this on a parallel stream. Let&rsquo;s take the above list, and assume that
when you run this on a parallel stream it&rsquo;s processed by two separate threads:</p>

<pre><code>[&quot;B&quot;, &quot;Z&quot;, &quot;C&quot;, &quot;A&quot;,    // processed by thread 1 
 &quot;L&quot;, &quot;K&quot;, &quot;A&quot;, &quot;H&quot;]     // processed by thread 2
</code></pre>

<p>It&rsquo;s possible that thread 2 finds its &ldquo;A&rdquo; (the one at position 6) before thread 1 finds the one at position 3, so
this will be value that&rsquo;s returned. By configuring the Stream to return any one of the values that matches the
criteria, you can potentially execute the operation faster when running in parallel.</p>

<p>If <code>findAny</code> is (potentially) faster in parallel and (probably) returns the same value as <code>findFirst</code> when running in
serial, why not use that all the time?  Well, there are times when you really do want the first item. If you have a
list of DVDs ordered by year the film was released, and you want to find the original &ldquo;King Kong&rdquo; (for
example), you&rsquo;ll want <code>findFirst</code> to find the one released in 1933, not the one that was released in 1976 or the
one from 2005.</p>

<p>Plus, <code>findFirst</code> is not always going to be slower than <code>findAny</code>, even in parallel.  Going back to our list:</p>

<pre><code>[&quot;B&quot;, &quot;Z&quot;, &quot;C&quot;, &quot;A&quot;, &quot;L&quot;, &quot;K&quot;, &quot;A&quot;, &quot;H&quot;]
</code></pre>

<p>Trying to <code>findFirst</code> or <code>findAny</code> for &ldquo;H&rdquo; could be the same performance for both methods.</p>

<p><strong>Collectors</strong>: Maybe it&rsquo;s just me who doesn&rsquo;t really see the big picture for collectors.  I&rsquo;m perfectly content with
the built in collectors like:</p>

<pre><code>collect(Collectors.toList())
</code></pre>

<p>and</p>

<pre><code>collect(Collectors.toSet())
</code></pre>

<p>It&rsquo;s easy to see what they do, and work out when you need to use them.</p>

<p>I&rsquo;m also very happy to have discovered <code>joining</code>:</p>

<pre><code>collect(Collectors.joining(&quot;,&quot;))
</code></pre>

<p>a super-useful way to create Comma Separated Values (CSVs) that I use in my
<a href="/presentation/java8_in_anger">Java 8 demo</a>.</p>

<p>Where things get a bit murky for me is where we start chaining up collectors:</p>

<pre><code>collect(Collectors.mapping(...).combiner().andThen(...).apply(...))
</code></pre>

<p>(it should be obvious from my lack of clear example that I&rsquo;m not 100% certain under which circumstances these are
useful).</p>

<p>As a group, we think the chained collectors are kinda ugly - not because we&rsquo;re against chaining (we like Streams),
but maybe because it&rsquo;s another chain inside a param to a chain.</p>

<p>We think this is an area where some good, solid examples and a bit of daily use will make it much clearer to
developers. We hope.</p>

<p>Related to this, the course didn&rsquo;t go into creating your own collectors at all. My personal (under-informed) opinion
is that I guess most developers should be able to use either the out-of-the-box collectors (<code>toList</code> etc) or use the
collector chaining to build what they need. If you need a custom collector, perhaps you haven&rsquo;t considered everything
that&rsquo;s already available to you. But as a group, we decided we would have liked to see this topic anyway so that we
could get a deeper understanding of what collectors are and how they work.</p>

<p><strong>Exercises for lesson 3:</strong> Well. What can we say? I really hope there are people reading this who haven&rsquo;t finished
the course yet, because the Sevilla Java User group would like to say to you: don&rsquo;t despair, the lesson 3 exercises
are <em>substantially</em> harder than those for lessons 1 and 2. Honestly, the whole group considered it less of a learning
curve and more of a massive cliff to climb.</p>

<p><img src="http://herbookthoughts.reads-it.com/wp-content/uploads/2014/06/d6a1143f571184db25f94613edd43b40af6d3a629221aba00d9efdcfef5efd84.jpg" alt="I have no idea what I am doing" title="I have no idea 
what I am doing" />
</p>

<p>I mean, it was great to have something so challenging to end on, but it probably would have been less ego-destroying
if we could have got up to that level gradually instead of having it sprung on us.</p>

<p>The good thing about Part 2 of the lesson 3 exercises was that we had three very different answers to discuss
in the group. None of us were super happy with any of them, but we could see definite pros and cons of each approach,
and that&rsquo;s something you really want to learn in a course like this.</p>

<p>It was also really great to have a rough performance test to run on your own computer, so that you could really see
the impact of your choices on the performance of the stream.</p>

<p><strong>For more info</strong><br />
I&rsquo;m going to add a shameless plug to a friend&rsquo;s book here. I&rsquo;ve been reading a lot about Java 8 for this course, for
my <a href="/presentation/java8_in_anger">Java 8 demo</a>, and to generally get up to speed. My favourite book for getting to
grips with lambdas and streams
is <a href="http://www.amazon.com/gp/product/B00J3B3J3C/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B00J3B3J3C&linkCode=as2&tag=trissramb-20&linkId=IX6U2YT4FADY4JY6">Java 8 Lambdas: Pragmatic Functional Programming</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=trissramb-20&l=as2&o=1&a=B00J3B3J3C" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
by <a href="https://twitter.com/RichardWarburto">Richard Warburton</a>. This book also contains more info about collectors too,
so maybe some of our questions around how to use these in more complex situation are answered in here.</p>

<p><strong>In Summary</strong><br />
We really enjoyed the MOOC, and the sessions to get together to discuss it. We particularly liked that the meetups
were a safe place to ask questions and discuss alternative solutions, and that we weren&rsquo;t expected to be genius-level
experts in order to participate fully.</p>

<p>If/when Oracle re-runs the MOOC, if you didn&rsquo;t get a chance to take part this time I highly recommend signing up.
And if you can find (or run) a local meetup to discuss it, it makes the experience much more fun.</p>

        </article>
  </div>
</section>



<aside id="meta">

<div>
    <section id="datecount">
        <h4 id="date"> Tue Aug 4, 2015 </h4>
        <h5 id="wc"> 1200 Words </h5>
    </section>
    <ul id="categories">
        
    </ul>
    <ul id="tags">
        
        <li><a href="/tags/java">java</a></li>
        
        <li><a href="/tags/svqjug">svqjug</a></li>
        
        <li><a href="/tags/java8">java8</a></li>
        
    </ul>
</div>

<div>
    <section id="prev">
        &nbsp;<a class="previous" href="/presentation/refactoring_to_java_8/"><i class="icon-arrow-left"></i> Applying Java 8 Idioms to Existing Code</a><br>
    </section>
    <section id="next">
        &nbsp;<a class="next" href="/post/java_8_mooc_session2/">Java 8 MOOC - Session 2 Summary <i class="icon-arrow-right"></i></a>
    </section>
</div>

<div>
    <section id="author">
        <h4>About the Author:</h4>
        Trisha is a Java Champion and a leader of the
        Sevilla Java User Group. She works for
        <a href="https://www.jetbrains.com/">JetBrains</a> who very kindly pay her
        to do what she loves. She believes we
        shouldn't all have to make the same mistakes again and again.
    </section>
</div>

</aside>

<meta itemprop="wordCount" content="1117">
<meta itemprop="datePublished" content="2015-08-04">
<meta itemprop="url" content="/post/java_8_mooc_session3/">


<aside id=comments>
    <div><h2> Comments </h2></div>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'trishagee';
    var disqus_identifier = '\/post\/java_8_mooc_session3\/';
    var disqus_title = 'Java 8 MOOC - Session 3 Summary';
    var disqus_url = 'http:\/\/trishagee.github.io\/post\/java_8_mooc_session3';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</aside>

<footer>
    <div>
        <p>
            &copy; 2013-14 <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Trisha Gee.</span></span>
            <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons Attribution">Some rights reserved</a>;
            please attribute properly and link back. <br>
            Powered by <a href="http://hugo.spf13.com">Hugo</a>.
            Original layout created by Steve Francia <a href="http://http://spf13.com/">http://spf13.com/</a>, derived from <a
                href="https://github.com/spf13/spf13.com">https://github.com/spf13/spf13.com</a>.
        </p>
    </div>
</footer>
<script type="text/javascript">

    var _gaq = _gaq || [];

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-49006189-1', 'auto');
    ga('send', 'pageview');

    (function () {
        var j = function (a, b) {
            return window.getComputedStyle ? getComputedStyle(a).getPropertyValue(b) : a.currentStyle[b]
        };
        var k = function (a, b, c) {
            if (a.addEventListener)a.addEventListener(b, c, false); else a.attachEvent('on' + b, c)
        };
        var l = function (a, b) {
            for (key in b)if (b.hasOwnProperty(key))a[key] = b[key];
            return a
        };
        window.fitText = function (d, e, f) {
            var g = l({'minFontSize': -1 / 0, 'maxFontSize': 1 / 0}, f);
            var h = function (a) {
                var b = e || 1;
                var c = function () {
                    a.style.fontSize = Math.max(Math.min(a.clientWidth / (b * 10), parseFloat(g.maxFontSize)), parseFloat(g.minFontSize)) + 'px'
                };
                c();
                k(window, 'resize', c)
            };
            if (d.length)for (var i = 0; i < d.length; i++)h(d[i]); else h(d);
            return d
        }
    })();
    fitText(document.getElementById('title'), 1)

</script>
</body>
</html>

