<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
    <meta charset="utf-8">
    <meta name="google-site-verification" content="UA-25393690-2">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="description" content="">
<meta name="keywords" content="">

 
<meta property="og:type" content="article"/>
<meta property="og:description" content=""/>
<meta property="og:title" content=" : trishagee.github.io"/>
<meta property="og:site_name" content="Trisha Gee"/>
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="http://trishagee.github.io/other-sites/getting-start-with-mongodb-2/">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2008-01-01"/>
<meta property="article:modified_time" content="2008-01-01"/>




<meta name="twitter:card" content="summary">

<meta name="twitter:site" content="@trisha_gee">
<meta name="twitter:title" content=" : trishagee.github.io">
<meta name="twitter:creator" content="@trishagee">
<meta name="twitter:description" content="">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="trishagee.github.io">



    <base href="http://trishagee.github.io">
    <title>  - trishagee.github.io </title>
    <link rel="canonical" href="http://trishagee.github.io/other-sites/getting-start-with-mongodb-2/">
    

    <link href='http://fonts.googleapis.com/css?family=Fjalla+One|Open+Sans:300' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/static/css/style.css">
<link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/default.min.css">
<script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

    <link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/default.min.css">
    <script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
</head>

<body lang="en" itemscope itemtype="http://schema.org/Article">
<header id="header">
    <div id="byline">by Trisha Gee</div>
    <nav id="nav">
        <ul id="mainnav">
    <li>
        <a href="/post/">
            <span class="icon"> <i aria-hidden="true" class="icon-quill"></i></span>
            <span> blog </span>
        </a>
    </li>
    <li>
        <a href="/project/">
            <span class="icon"> <i aria-hidden="true" class="icon-console"></i></span>
            <span> code </span>
        </a>
    </li>
    <li>
        <a href="/presentation/">
            <span class="icon"> <i aria-hidden="true" class="icon-stats"></i></span>
            <span> talks </span>
        </a>
    </li>
    <li>
        <a href="/resources/">
            <span class="icon"> <i aria-hidden="true" class="icon-gears"></i></span>
            <span> resources </span>
        </a>
    </li>
</ul>

        <ul id="social">
    <li id="share">
        <span class="icon icon-bubbles"> </span>
        <span class="title"> share </span>

        <div class="dropdown share">
            <ul class="social">
                <li><a href="https://twitter.com/intent/tweet?status=-http%3a%2f%2ftrishagee.github.io%2fother-sites%2fgetting-start-with-mongodb-2%2f" target="_blank"
                       title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a></li>
                <li><a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2ftrishagee.github.io%2fother-sites%2fgetting-start-with-mongodb-2%2f" target="_blank" title="Join me on Facebook"
                       class="facebook"><span class="icon icon-facebook"></span>Facebook</a></li>
                <li><a href="https://plus.google.com/share?url=http%3a%2f%2ftrishagee.github.io%2fother-sites%2fgetting-start-with-mongodb-2%2f" target="_blank" title="Google+" class="googleplus"><span
                        class="icon icon-google-plus"></span>Google+</a></li>
                <li><a href="http://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2ftrishagee.github.io%2fother-sites%2fgetting-start-with-mongodb-2%2f&title=&source=spf13"
                       target="_blank" title="LinkedIn" class="linkedin"><span class="icon icon-linkedin"></span>LinkedIn</a></li>
                <li><a href="http://del.icio.us/post?url=http%3a%2f%2ftrishagee.github.io%2fother-sites%2fgetting-start-with-mongodb-2%2f" target="_blank" title="Delicious" class="delicious"><span
                        class="icon icon-delicious"></span>Delicious</a></li>
                <li><a href="http://www.reddit.com/submit?url=http%3a%2f%2ftrishagee.github.io%2fother-sites%2fgetting-start-with-mongodb-2%2f" target="_blank" title="Reddit" class="reddit"><span
                        class="icon icon-reddit"></span>Reddit</a></li>
                <li><a href="http://www.stumbleupon.com/submit?url=http%3a%2f%2ftrishagee.github.io%2fother-sites%2fgetting-start-with-mongodb-2%2f" target="_blank" title="StumbleUpon"
                       class="stumbleupon"><span class="icon icon-stumbleupon"></span>StumbleUpon</a></li>
                <li><a href="http://www.dzone.com/links/add.html?url=http%3a%2f%2ftrishagee.github.io%2fother-sites%2fgetting-start-with-mongodb-2%2f&title=" target="_blank" title="DZone"
                       class="dzone"><span class="icon icon-dzone"></span>DZone</a></li>
            </ul>
            <span class="subcount">sharing is caring</span>
        </div>
    </li>
    <li id="follow">
        <span class="icon icon-rocket"> </span>
        <span class="title"> follow </span>

        <div class="dropdown follow">
            <ul class="social">
                <li><a href="http://trishagee.github.io/index.xml" target="_blank" title="Subscribe by RSS" class="rss"><span
                        class="icon icon-feed-2"></span>RSS</a></li>
                <li><a href="http://www.twitter.com/trisha_gee" target="_blank" title="Follow me on Twitter" class="twitter"><span
                        class="icon icon-twitter"></span>Twitter</a></li>
                <li><a href="http://www.linkedin.com/in/trishagee" target="_blank" title="LinkedIn" class="linkedin"><span class="
                        icon icon-linkedin"></span>LinkedIn</a></li>
                <li><a href="http://github.com/trishagee" target="_blank" title="GitHub" class="github"><span class="
                        icon icon-github"></span>GitHub</a></li>
                <li><a href="http://www.slideshare.net/trishagee" target="_blank" title="SlideShare" class="slideshare"><span
                        class="icon icon-slideshare"></span>SlideShare</a></li>
                <li><a href="https://plus.google.com/+TrishaGee/" target="_blank" title="Google+" class="googleplus"><span
                        class="icon icon-google-plus"></span>Google+</a></li>
            </ul>
            <span class="subcount"></span>
        </div>
    </li>
</ul>

    </nav>
</header>



<section id="main">
  <h1 itemprop="name" id="title"></h1>
  <div>
        <article itemprop="articleBody" id="content">
           

<p>In the last article [link needed], we covered the basics of installing and connecting to MongoDB via a Java application. In this post, I&rsquo;ll give an introduction to CRUD (Create, Read, Update, Delete) operations using the Java driver. As in the previous article, if you want to follow along and code as we go, you can use these tips to get the tests in the <a href="https://github.com/trishagee/mongodb-getting-started">Getting Started project</a> to go green.</p>

<h2 id="toc_0">Creating documents</h2>

<p>In the last article [link needed], we introduced <a href="http://docs.mongodb.org/manual/reference/glossary/#term-document">documents</a> and how to
create them from Java and insert them into MongoDB, so I&rsquo;m not going to repeat that here. But if you want a reminder, or simply want to skip to playing with the code, you can take a look at
<a href="https://github.com/trishagee/mongodb-getting-started/blob/master/src/test/java/com/mechanitis/mongodb/gettingstarted/Exercise3InsertTest.java">Exercise3InsertTest</a>.</p>

<h2 id="toc_1">Querying</h2>

<p>Putting stuff in the database is all well and good, but you&rsquo;ll probably want to query the database to get data from it.</p>

<p>In the last article we covered some basics on using <a href="http://docs.mongodb.org/manual/reference/method/db.collection.find/">find()</a> to get
data from the database. We also showed an example in <a href="https://github.com/trishagee/mongodb-getting-started/blob/master/src/test/java/com/mechanitis/mongodb/gettingstarted/Exercise4RetrieveTest.java">Exercise4RetrieveTest</a>. But MongoDB supports more than simply getting a single document by ID or getting all the documents in a
collection. As I mentioned, you can query by example, building up a <a href="http://docs.mongodb.org/manual/tutorial/query-documents/">query document</a> that looks a similar shape to the one you want.</p>

<p>For the following examples I&rsquo;m going to assume a document which looks something like this:</p>

<pre><code>person = {
  _id: &quot;anId&quot;,
  name: &quot;A Name&quot;,
  address: {
    street: &quot;Street Address&quot;,
    city: &quot;City&quot;,
    phone: &quot;12345&quot;
  }
  books: [ 27464, 747854, ...]
}
</code></pre>

<h3 id="toc_2">Find a document by ID</h3>

<p>To recap, you can easily get a document back from the database using the unique ID:</p>

<pre><code>DBCursor cursor = collection.find(new BasicDBObject(&quot;_id&quot;, &quot;theId&quot;));
</code></pre>

<script src="https://gist.github.com/trishagee/11b4e539612ce5262321.js"></script>

<p>&hellip;and you get the values out of the document (represented as a <code>DBObject</code>) using a <code>Map</code>-like syntax:</p>

<pre><code>(String) cursor.one().get(&quot;name&quot;)
</code></pre>

<script src="https://gist.github.com/trishagee/ebf354f8de25663eae79.js"></script>

<p>In the above example, because you&rsquo;ve queried by ID (and you knew that ID existed), you can be sure that the cursor has a single document that matches the query.  Therefore you can use <code>cursor.one()</code> to get it.</p>

<h3 id="toc_3">Find all documents matching some criteria</h3>

<p>In the real world, you won&rsquo;t always know the ID of the document you want.  You could be looking for all the people with a particular name, for example.</p>

<p>In this case, you can create a query document that has the criteria you want:</p>

<pre><code>DBCursor results = collection.find(new BasicDBObject(&quot;name&quot;, &quot;The name I want to find&quot;));
</code></pre>

<script src="https://gist.github.com/trishagee/d82e26bea5fccfa9cbee.js"></script>

<p>You can find out the number of results:</p>

<pre><code>results.size();
</code></pre>

<script src="https://gist.github.com/trishagee/c1328cfbc6618fad0c4c.js"></script>

<p>and you can, naturally, iterate over them:</p>

<pre><code>for (DBObject result : results) {
    // do something with each result
}
</code></pre>

<script src="https://gist.github.com/trishagee/bd7bc1f865a6a0303cd2.js"></script>

<p><strong>A note on batching</strong>
The cursor will fetch results in batches from the database, so if you run a query that matches a lot of documents, you don&rsquo;t have to worry that every document is loaded into memory immediately.  For most queries, the <a href="http://docs.mongodb.org/manual/core/cursors/#cursor-batches">first batch returned will be 101 documents</a>. But as you iterate over the cursor, the driver will automatically fetch further batches from the server.  So you don&rsquo;t have to worry about managing batching in your application. But you do need to be aware that if you iterate over the whole of the cursor (for example to put it into a <code>List</code>), you will end up fetching all the results and putting them in memory.</p>

<p>You can get started with <a href="https://github.com/trishagee/mongodb-getting-started/blob/master/src/test/java/com/mechanitis/mongodb/gettingstarted/Exercise5SimpleQueryTest.java">Exercise5SimpleQueryTest</a>.</p>

<h3 id="toc_4">Selecting Fields</h3>

<p>Generally speaking, you will read entire documents from MongoDB most of the time. However, you can choose to return just the fields that you care about (for example, you might have a large document and not need all the values). You do this by passing a second parameter into the <code>find</code> method that&rsquo;s another <code>DBObject</code> defining the fields you want to
return. In this example, we&rsquo;ll search for people called &ldquo;Smith&rdquo;, and return only the <code>name</code> field. To do this we pass in a <code>DBObject</code> representing <code>{name: 1}</code>:</p>

<pre><code>DBCursor results = collection.find(new BasicDBObject(&quot;name&quot;, &quot;Smith&quot;),
                                   new BasicDBObject(&quot;name&quot;, 1));
</code></pre>

<script src="https://gist.github.com/trishagee/440cdf337eadd99c9e04.js"></script>

<p>You can also use this method to exclude fields from the results. Maybe we might want to exclude an unnecessary subdocument
from the results - let&rsquo;s say we want to find everyone called &ldquo;Smith&rdquo;, but we don&rsquo;t want to return the <code>address</code>.  We do this by
passing in a zero for this field name, i.e. <code>{address: 0}</code>:</p>

<pre><code>DBCursor results = collection.find(new BasicDBObject(&quot;name&quot;, &quot;Smith&quot;),
                                   new BasicDBObject(&quot;address&quot;, 0));
</code></pre>

<script src="https://gist.github.com/trishagee/66759199d1459563ad7f.js"></script>

<p>With this information, you&rsquo;re ready to tackle
<a href="https://github.com/trishagee/mongodb-getting-started/blob/master/src/test/java/com/mechanitis/mongodb/gettingstarted/Exercise6SelectFieldsTest.java">Exercise6SelectFieldsTest</a></p>

<h3 id="toc_5">Query Operators</h3>

<p>As I mentioned in the previous article, your fields can be one of a number of types, including numeric.  This means that you can do queries for numeric values as well.  Let&rsquo;s assume, for example, that our person has a <code>numberOfOrders</code> field, and we wanted to find everyone who had ordered more than, let&rsquo;s say, 10 items.  You can do this using the
<a href="http://docs.mongodb.org/manual/reference/operator/query/gt/#op._S_gt">$gt</a> operator:</p>

<pre><code>DBCursor results = collection.find(new BasicDBObject(&quot;numberOfOrders&quot;, new BasicDBObject(&quot;$gt&quot;, 10)));
</code></pre>

<script src="https://gist.github.com/trishagee/3ee81da8e419aca9944b.js"></script>

<p>Note that you have to create a further subdocument containing the <code>$gt</code> condition to use this operator.  All of the query operators <a href="http://docs.mongodb.org/manual/reference/operator/query/">are
documented</a>, and work in a similar way to this example.</p>

<p>You might be wondering what terrible things could happen if you try to perform some sort of numeric comparison on a field that is a String, since the database supports any type of value in any of the fields (and in Java the values are Objects so you don&rsquo;t get the benefit of type
safety).  So, what happens if you do this?</p>

<pre><code>DBCursor results = collection.find(new BasicDBObject(&quot;name&quot;, new BasicDBObject(&quot;$gt&quot;, 10)));
</code></pre>

<script src="https://gist.github.com/trishagee/8bb1e706a5d351a295b1.js"></script>

<p>The answer is you get zero results (assuming all your documents contain names that are Strings), and you don&rsquo;t get any errors. The flexible nature of the document schema allows you to mix and match types and query without error.</p>

<p>You can use this technique to get the test in
<a href="https://github.com/trishagee/mongodb-getting-started/blob/master/src/test/java/com/mechanitis/mongodb/gettingstarted/Exercise7QueryOperatorsTest.java">Exercise7QueryOperatorsTest</a>
to go green - it&rsquo;s a bit of a daft example, but you get the idea.</p>

<h3 id="toc_6">Querying Subdocuments</h3>

<p>So far we&rsquo;ve assumed that we only want to query values in our top-level fields.  However, we might want to query for <a href="http://docs.mongodb.org/manual/reference/method/db.collection.find/#query-subdocuments">values in a
subdocument</a> - for example, with our person document, we might want to find everyone who lives in the same city.  We can use
<a href="http://docs.mongodb.org/manual/core/document/#document-dot-notation">dot notation</a> like this:</p>

<pre><code>DBObject findLondoners = new BasicDBObject(&quot;address.city&quot;, &quot;London&quot;);
collection.find(findLondoners));
</code></pre>

<script src="https://gist.github.com/trishagee/cd7537b07a8d10e3350c.js"></script>

<p>We&rsquo;re not going to use this technique in a query test, but we will use it later when we&rsquo;re doing updates.</p>

<h3 id="toc_7">Familiar methods</h3>

<p>I mentioned earlier that you can iterate over a cursor, and that the driver will fetch results in batches.  However, you can also use the familiar-looking <a href="http://docs.mongodb.org/manual/reference/method/cursor.skip/">skip()</a> and
<a href="http://docs.mongodb.org/manual/reference/method/cursor.limit/">limit()</a> methods.  You can use these to fix up the test in
<a href="https://github.com/trishagee/mongodb-getting-started/blob/master/src/test/java/com/mechanitis/mongodb/gettingstarted/Exercise8SkipAndLimitTest.java">Exercise8SkipAndLimitTest</a>.</p>

<h3 id="toc_8">A last note on querying: Indexes</h3>

<p>Like a traditional database, you can add indexes onto the database to improve the speed of regular queries.  There&rsquo;s extensive
<a href="http://docs.mongodb.org/manual/indexes/">documentation on indexes</a> which you can read at your own leisure.  However, it is worth pointing out that, if necessary, you can programmatically create indexes via the Java driver, using <code>createIndexes</code>.  For example:</p>

<pre><code>collection.createIndex(new BasicDBObject(&quot;fieldToIndex&quot;, 1));
</code></pre>

<script src="https://gist.github.com/trishagee/e866e162f66ae7c38c6e.js"></script>

<p>There is a very simple example for creating an index in <a href="https://github.com/trishagee/mongodb-getting-started/blob/master/src/test/java/com/mechanitis/mongodb/gettingstarted/Exercise9IndexTest.java">Exercise9IndexTest</a>,
but indexes are a full topic on their own, and the purpose of this part of the tutorial is to merely make you aware of their existence rather than provide a comprehensive tutorial on their purpose and uses.</p>

<h2 id="toc_9">Updating values</h2>

<p>Now you can insert into and read from the database.  But your data is probably not static, especially as one of the benefits of MongoDB is a <a href="http://docs.mongodb.org/manual/data-modeling/">flexible schema</a> that can evolve with your needs over time.</p>

<p>In order to <a href="http://docs.mongodb.org/manual/tutorial/modify-documents/">update</a> values in the database, you&rsquo;ll have to define the query criteria that states which document(s) you want to update, and you&rsquo;ll have to pass in the document that represents the updates you want to make.</p>

<p>There are a few things to be aware of when you&rsquo;re updating documents in MongoDB, once you understand these it&rsquo;s as simple as everything else we&rsquo;ve seen so far.</p>

<p>Firstly, by default only the first document that matches the query criteria is updated.</p>

<p>Secondly, if you pass in a document as the value to update to, this new document will replace the whole existing document.  If you think about it, the common use-case will be: you retrieve something from the database; you modify it based on some criteria from your
application or the user; then you save the updated document to the database.</p>

<p>I&rsquo;ll show the various types of updates (and point you to the code in the test class) to walk you through these different cases.</p>

<h3 id="toc_10">Simple Update: Find a document and replace it with an updated one</h3>

<p>We&rsquo;ll carry on using our simple Person document for our examples.  Let&rsquo;s assume we&rsquo;ve got a document in our database that looks like:</p>

<pre><code>person = {
  _id: &quot;jo&quot;,
  name: &quot;Jo Bloggs&quot;,
  address: {
    street: &quot;123 Fake St&quot;,
    city: &quot;Faketon&quot;,
    phone: &quot;5559991234&quot;
  }
  books: [ 27464, 747854, ...]
}
</code></pre>

<p>Maybe Jo goes into witness protection and needs to change his/her name.  Assuming we&rsquo;ve got <code>jo</code> populated in a <code>DBObject</code>, we can make the appropriate changes to the document and save it into the database:</p>

<pre><code>DBObject jo =                                       // get the document representing jo
jo.put(&quot;name&quot;, &quot;Jo In Disguise&quot;);                   // replace the old name with the new one
collection.update(new BasicDBObject(&quot;_id&quot;, &quot;jo&quot;),   // find jo by ID
                  jo);                              // set the document in the DB to the new document for Jo
</code></pre>

<script src="https://gist.github.com/trishagee/6248d507a3882da9bf52.js"></script>

<p>You can make a start with
<a href="https://github.com/trishagee/mongodb-getting-started/blob/master/src/test/java/com/mechanitis/mongodb/gettingstarted/Exercise10UpdateByReplacementTest.java">Exercise10UpdateByReplacementTest</a>.</p>

<h3 id="toc_11">Update Operators: Change a field</h3>

<p>But sometimes you won&rsquo;t have the whole document to replace the old one, sometimes you just want to update a single field in whichever document matched your criteria.</p>

<p>Let&rsquo;s imagine that we only want to change Jo&rsquo;s phone number, and we don&rsquo;t have a <code>DBObject</code> with all of Jo&rsquo;s details but we do have the ID of the document.  If we use the <a href="http://docs.mongodb.org/manual/reference/operator/update/set/">$set</a> operator,
we&rsquo;ll replace only the field we want to change:</p>

<pre><code>collection.update(new BasicDBObject(&quot;_id&quot;, &quot;jo&quot;),
                  new BasicDBObject(&quot;$set&quot;, new BasicDBObject(&quot;phone&quot;, &quot;5559874321&quot;)));
</code></pre>

<script src="https://gist.github.com/trishagee/d31af4fddd650e791195.js"></script>

<p>There are a number of <a href="http://docs.mongodb.org/manual/reference/operator/update-field/">other operators</a> for performing updates on documents, for example <a href="http://docs.mongodb.org/manual/reference/operator/update/inc/#up._S_inc">$inc</a> which will increment a numeric field by a given amount.</p>

<p>Now you can do <a href="https://github.com/trishagee/mongodb-getting-started/blob/master/src/test/java/com/mechanitis/mongodb/gettingstarted/Exercise11UpdateAFieldTest.java">Exercise11UpdateAFieldTest</a></p>

<h3 id="toc_12">Update Multiple</h3>

<p>As I mentioned earlier, by default the <code>update</code> operation updates the first document it finds and no more.  You can, however, set the <code>multi</code> flag on <code>update</code> to update everything.</p>

<p>So maybe we want to update everyone in the database to have a country field, and for now we&rsquo;re going to assume all the current people are in the UK:</p>

<pre><code>collection.update(new BasicDBObject(),
                  new BasicDBObject(&quot;$set&quot;, new BasicDBObject(&quot;country&quot;, &quot;UK&quot;)), false, true);
</code></pre>

<script src="https://gist.github.com/trishagee/9467f0a4aa19ce855a8c.js"></script>

<p>The query parameter is an empty document which finds everything; the second boolean (set to <code>true</code>) is the flag that says to update all the values which were found.</p>

<p>Now we&rsquo;ve learnt enough to complete the two tests in
<a href="https://github.com/trishagee/mongodb-getting-started/blob/master/src/test/java/com/mechanitis/mongodb/gettingstarted/Exercise12UpdateMultipleDocumentsTest.java">Exercise12UpdateMultipleDocumentsTest</a></p>

<h3 id="toc_13">Upsert</h3>

<p>Finally, the last thing to mention when updating documents is Upsert (Update-or-Insert).  This will search for a document matching the criteria and either: update it if it&rsquo;s there; or insert it into the database if it wasn&rsquo;t.</p>

<p>Like &ldquo;update multiple&rdquo;, you define an upsert operation with a magic boolean.  It shouldn&rsquo;t come as a surprise to find it&rsquo;s the first boolean param in the update statement (since &ldquo;multi&rdquo; was the second):</p>

<pre><code>collection.update(query, personDocument, true, false);
</code></pre>

<script src="https://gist.github.com/trishagee/0ac3546c4be61a48d0fb.js"></script>

<p>Now you know everything you need to complete the test in
<a href="https://github.com/trishagee/mongodb-getting-started/blob/master/src/test/java/com/mechanitis/mongodb/gettingstarted/Exercise13UpsertTest.java">Exercise13UpsertTest</a></p>

<h2 id="toc_14">Removing from the database</h2>

<p>Finally the D in CRUD - Delete.  The syntax of a remove should look familiar now we&rsquo;ve got this far, you pass a document that represents your selection criteria into the remove method.  So if we wanted to delete <code>jo</code> from our database, we&rsquo;d do:</p>

<pre><code>collection.remove(new BasicDBObject(&quot;_id&quot;, &quot;jo&quot;));
</code></pre>

<script src="https://gist.github.com/trishagee/23ee8cc8bec4354a1227.js"></script>

<p>Unlike <code>update</code>, if the query matches more than one document, all those documents will be deleted (something to be aware of!). If we wanted to remove everyone who lives in London, we&rsquo;d need to do:</p>

<pre><code>collection.remove(new BasicDBObject(&quot;address.city&quot;, &quot;London&quot;));
</code></pre>

<script src="https://gist.github.com/trishagee/3d5d8a0b8bc97da91a7d.js"></script>

<p>That&rsquo;s all there is to remove, you&rsquo;re ready to finish off
<a href="https://github.com/trishagee/mongodb-getting-started/blob/master/src/test/java/com/mechanitis/mongodb/gettingstarted/Exercise14RemoveTest.java">Exercise14RemoveTest</a></p>

<h2 id="toc_15">Conclusion</h2>

<p>Unlike traditional databases, you don&rsquo;t create SQL queries in MongoDB to perform CRUD operations. Instead, operations are done by constructing documents both to query the database, and to define the operations to perform.</p>

<p>While we&rsquo;ve covered what the basics look like in Java, there&rsquo;s loads more documentation on all the core concepts in the MongoDB documentation:</p>

<ul>
<li><a href="http://docs.mongodb.org/manual/tutorial/query-documents/">Query Documents</a></li>
<li><a href="http://docs.mongodb.org/manual/core/crud-introduction/">CRUD Operations</a></li>
<li><a href="http://docs.mongodb.org/manual/indexes/">Indexes</a></li>
</ul>

        </article>
  </div>
</section>



<aside id="meta">

<div>
    <section id="datecount">
        <h4 id="date"> Tue Jan 1, 2008 </h4>
        <h5 id="wc"> 2100 Words </h5>
    </section>
    <ul id="categories">
        
    </ul>
    <ul id="tags">
        
    </ul>
</div>

<div>
    <section id="prev">
        &nbsp;<a class="previous" href="http://trishagee.github.io/other-sites/getting-start-with-mongodb-1/"><i class="icon-arrow-left"></i> </a><br>
    </section>
    <section id="next">
        &nbsp;<a class="next" href="http://trishagee.github.io/other-sites/release/"> <i class="icon-arrow-right"></i></a>
    </section>
</div>

<div>
    <section id="author">
        <h4>About the Author:</h4>
        Trisha is a Java Champion and a leader of the Sevilla Java User Group, she believes we
        shouldn't all have to make the same mistakes again and again.
    </section>
</div>

</aside>

<meta itemprop="wordCount" content="2038">
<meta itemprop="datePublished" content="2008-01-01">
<meta itemprop="url" content="http://trishagee.github.io/other-sites/getting-start-with-mongodb-2/">


<aside id=comments>
    <div><h2> Comments </h2></div>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'trishagee';
    var disqus_identifier = 'http:\/\/trishagee.github.io\/other-sites\/getting-start-with-mongodb-2\/';
    var disqus_title = '';
    var disqus_url = 'http:\/\/trishagee.github.io\/other-sites\/getting-start-with-mongodb-2\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</aside>

<footer>
    <div>
        <p>
            &copy; 2013-14 <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Trisha Gee.</span></span>
            <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons Attribution">Some rights reserved</a>;
            please attribute properly and link back. <br>
            Powered by <a href="http://hugo.spf13.com">Hugo</a>.
            Original layout created by Steve Francia <a href="http://http://spf13.com/">http://spf13.com/</a>, derived from <a
                href="https://github.com/spf13/spf13.com">https://github.com/spf13/spf13.com</a>.
        </p>
    </div>
</footer>
<script type="text/javascript">

    var _gaq = _gaq || [];

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-49006189-1', 'auto');
    ga('send', 'pageview');

    (function () {
        var j = function (a, b) {
            return window.getComputedStyle ? getComputedStyle(a).getPropertyValue(b) : a.currentStyle[b]
        };
        var k = function (a, b, c) {
            if (a.addEventListener)a.addEventListener(b, c, false); else a.attachEvent('on' + b, c)
        };
        var l = function (a, b) {
            for (key in b)if (b.hasOwnProperty(key))a[key] = b[key];
            return a
        };
        window.fitText = function (d, e, f) {
            var g = l({'minFontSize': -1 / 0, 'maxFontSize': 1 / 0}, f);
            var h = function (a) {
                var b = e || 1;
                var c = function () {
                    a.style.fontSize = Math.max(Math.min(a.clientWidth / (b * 10), parseFloat(g.maxFontSize)), parseFloat(g.minFontSize)) + 'px'
                };
                c();
                k(window, 'resize', c)
            };
            if (d.length)for (var i = 0; i < d.length; i++)h(d[i]); else h(d);
            return d
        }
    })();
    fitText(document.getElementById('title'), 1)

</script>
</body>
</html>

