<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
    <meta charset="utf-8">
    <meta name="google-site-verification" content="UA-25393690-2">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="description" content="">
<meta name="keywords" content=", ">

 
<meta property="og:type" content="article"/>
<meta property="og:description" content=""/>
<meta property="og:title" content="Tests : trishagee.github.io"/>
<meta property="og:site_name" content="Trisha Gee"/>
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="http://localhost:1313/other-sites/intellij-writing-good-tests/">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2015-08-07"/>
<meta property="article:modified_time" content="2015-08-07"/>

<meta property="article:tag" content="">



<meta name="twitter:card" content="summary">

<meta name="twitter:site" content="@trisha_gee">
<meta name="twitter:title" content="Tests : trishagee.github.io">
<meta name="twitter:creator" content="@trishagee">
<meta name="twitter:description" content="">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="trishagee.github.io">



    <base href="http://localhost:1313/">
    <title> Tests - trishagee.github.io </title>
    <link rel="canonical" href="http://localhost:1313/other-sites/intellij-writing-good-tests/">
    

    <link href='http://fonts.googleapis.com/css?family=Fjalla+One|Open+Sans:300' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/static/css/style.css">
<link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/default.min.css">
<script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

    <link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/default.min.css">
    <script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
</head>

<body lang="en" itemscope itemtype="http://schema.org/Article">
<header id="header">
    <div id="byline">by Trisha Gee</div>
    <nav id="nav">
        <ul id="mainnav">
    <li>
        <a href="/post/">
            <span class="icon"> <i aria-hidden="true" class="icon-quill"></i></span>
            <span> blog </span>
        </a>
    </li>
    <li>
        <a href="/project/">
            <span class="icon"> <i aria-hidden="true" class="icon-console"></i></span>
            <span> code </span>
        </a>
    </li>
    <li>
        <a href="/presentation/">
            <span class="icon"> <i aria-hidden="true" class="icon-stats"></i></span>
            <span> talks </span>
        </a>
    </li>
    <li>
        <a href="/resources/">
            <span class="icon"> <i aria-hidden="true" class="icon-gears"></i></span>
            <span> resources </span>
        </a>
    </li>
</ul>

        <ul id="social">
    <li id="share">
        <span class="icon icon-bubbles"> </span>
        <span class="title"> share </span>

        <div class="dropdown share">
            <ul class="social">
                <li><a href="https://twitter.com/intent/tweet?status=Tests-http%3a%2f%2flocalhost%3a1313%2fother-sites%2fintellij-writing-good-tests%2f" target="_blank"
                       title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a></li>
                <li><a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fother-sites%2fintellij-writing-good-tests%2f" target="_blank" title="Join me on Facebook"
                       class="facebook"><span class="icon icon-facebook"></span>Facebook</a></li>
                <li><a href="https://plus.google.com/share?url=http%3a%2f%2flocalhost%3a1313%2fother-sites%2fintellij-writing-good-tests%2f" target="_blank" title="Google+" class="googleplus"><span
                        class="icon icon-google-plus"></span>Google+</a></li>
                <li><a href="http://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2flocalhost%3a1313%2fother-sites%2fintellij-writing-good-tests%2f&title=Tests&source=spf13"
                       target="_blank" title="LinkedIn" class="linkedin"><span class="icon icon-linkedin"></span>LinkedIn</a></li>
                <li><a href="http://del.icio.us/post?url=http%3a%2f%2flocalhost%3a1313%2fother-sites%2fintellij-writing-good-tests%2f" target="_blank" title="Delicious" class="delicious"><span
                        class="icon icon-delicious"></span>Delicious</a></li>
                <li><a href="http://www.reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fother-sites%2fintellij-writing-good-tests%2f" target="_blank" title="Reddit" class="reddit"><span
                        class="icon icon-reddit"></span>Reddit</a></li>
                <li><a href="http://www.stumbleupon.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fother-sites%2fintellij-writing-good-tests%2f" target="_blank" title="StumbleUpon"
                       class="stumbleupon"><span class="icon icon-stumbleupon"></span>StumbleUpon</a></li>
                <li><a href="http://www.dzone.com/links/add.html?url=http%3a%2f%2flocalhost%3a1313%2fother-sites%2fintellij-writing-good-tests%2f&title=Tests" target="_blank" title="DZone"
                       class="dzone"><span class="icon icon-dzone"></span>DZone</a></li>
            </ul>
            <span class="subcount">sharing is caring</span>
        </div>
    </li>
    <li id="follow">
        <span class="icon icon-rocket"> </span>
        <span class="title"> follow </span>

        <div class="dropdown follow">
            <ul class="social">
                <li><a href="http://trishagee.github.io/index.xml" target="_blank" title="Subscribe by RSS" class="rss"><span
                        class="icon icon-feed-2"></span>RSS</a></li>
                <li><a href="http://www.twitter.com/trisha_gee" target="_blank" title="Follow me on Twitter" class="twitter"><span
                        class="icon icon-twitter"></span>Twitter</a></li>
                <li><a href="http://www.linkedin.com/in/trishagee" target="_blank" title="LinkedIn" class="linkedin"><span class="
                        icon icon-linkedin"></span>LinkedIn</a></li>
                <li><a href="http://github.com/trishagee" target="_blank" title="GitHub" class="github"><span class="
                        icon icon-github"></span>GitHub</a></li>
                <li><a href="http://www.slideshare.net/trishagee" target="_blank" title="SlideShare" class="slideshare"><span
                        class="icon icon-slideshare"></span>SlideShare</a></li>
                <li><a href="https://plus.google.com/+TrishaGee/" target="_blank" title="Google+" class="googleplus"><span
                        class="icon icon-google-plus"></span>Google+</a></li>
            </ul>
            <span class="subcount"></span>
        </div>
    </li>
</ul>

    </nav>
</header>



<section id="main">
  <h1 itemprop="name" id="title">Tests</h1>
  <div>
        <article itemprop="articleBody" id="content">
           

<p>I recently wrote a post for the Upsource blog about what to look for in the test code of a code review.  While I was
writing it, I found myself constantly trying to explain the value of writing good tests. It didn&rsquo;t really belong in a
blog about code review, since by the time you review the code you either care about tests or you don&rsquo;t, so instead
I thought I&rsquo;d write a separate post about why you should be writing tests.</p>

<h3 id="why-do-we-write-automated-tests:531584a59252a204524fa228739f29f2">Why do we write automated tests?</h3>

<p>In my first post about code reviews, I mention that a lot of activities we often do in a code review can be automated
 - checking style, formatting, code coverage etc.  The nice thing about automating these things is that, once
 automated, you no longer need a human to give you confidence that your code meets certain criteria.</p>

<p>Tests provide us with a similar level of security. Once you&rsquo;ve written some automated tests that prove your code
behaves in a particular way, provided they are running in some
sort of Continuous Integration environment like Team City, they continue to give
us confidence in the code well into the future, as long as they are passing.</p>

<p>Another reason I like automated tests that exercise my code base is that often the tests can be easier to reason about
than the production code - they should
state the desired functionality clearly, they should be readable, and they
should provide insight into which things the author of the code has
considered (and possibly hint at areas they have not thought about).</p>

<h3 id="what-sort-of-tests-are-we-talking-about:531584a59252a204524fa228739f29f2">What sort of tests are we talking about?</h3>

<p>There&rsquo;s a huge range of the type of automated tests we could be writing. In the Java world, we can write
unit tests via JUnit, TestNG, Spock, or similar, or could be an
end-to-end test, maybe driven by a tool like Selenium or Robotium.</p>

<p>It would be rare that new code, whether a bug fix or new feature, wouldn&rsquo;t
need a new or updated test to cover it. Even changes for &ldquo;non-functional&rdquo;
reasons like performance can frequently be proved via a test.</p>

<p>Adding a test for a bug fix or feature is also often a good way to document
what the changed code does (with an implication of &ldquo;why?&rdquo;). This is
particularly useful in projects like open source projects where documentation
typically lags behind implementation.</p>

<h3 id="but-writing-tests-is-hard:531584a59252a204524fa228739f29f2">But writing tests is hard!</h3>

<p>Yes it&rsquo;s true. But then so is writing production code. Writing tests to prove our production code works gives us that
much more confidence that we did it correctly.</p>

<p>The mechanics of actually creating a new test, however, are not that difficult when you&rsquo;re using an IDE like IntelliJ
IDEA. You can opt to write your tests first:</p>

<p><img src="/static/images/intellij-tips/IntelliJTDD.gif" alt="Writing your tests first" title="Writing your tests first" />
</p>

<p>Or write them afterwards:</p>

<p><img src="/static/images/intellij-tips/IntelliJTAD.gif" alt="Writing your tests after" title="Writing your tests after" />
</p>

<h3 id="what-happens-when-tests-break:531584a59252a204524fa228739f29f2">What happens when tests break?</h3>

<p>If there are failing tests, clearly something has to change - either the production code or the test code. This is a
decision you have to make.</p>

<ol>
<li>The tests are supposed to fail: for example, a new feature has been added that needs a
change in existing behaviour. In this case, the existing tests need to be
altered, or replaced with new ones that assert the correct behaviour.</li>
<li>The tests are supposed to pass: two possibilities spring to mind -
firstly, these tests relied on some side effects that have been changed by new features or fixes,
intentionally or not.  In this case, these existing
tests need to be updated (ideally to be less dependent upon undocumented side
effects). Secondly, some new code has broken existing functionality. In which
case, the new code needs to be re-written to not affect existing
functionality.</li>
</ol>

<p>Note that under no circumstances should breaking tests result in no
action - either the tests need changing, or the production code does.</p>

<h3 id="advice-on-writing-good-tests:531584a59252a204524fa228739f29f2">Advice on writing good tests</h3>

<p>In these days of Agile and DevOps, as developers we are responsible for so much more than writing lines of code to
implement features or fix bugs. For one thing, we&rsquo;re also expected to write lines of code to test these bugs and
features in realistic ways. Generally, we have not been trained to think this way, but professional testers have. If you have a
QA/test team, or have access to testers (or developers with a solid background in testing), ask for their help when
writing tests - get them to review your tests, or, if possible, have them pair with you when you&rsquo;re coming up with
scenarios.</p>

<p>While I included some pointers on evaluating tests in my post on
<a href="http://blog.jetbrains.com/upsource/2015/08/03/what-to-look-for-in-a-code-review-tests/">reviewing automated tests</a>,
professional testers can suggest far more ways to check the code. For just some examples read this article
<a href="http://blog.codinghorror.com/doing-terrible-things-to-your-code/">Doing Terrible Things To Your Code</a>.</p>

<h3 id="in-summary:531584a59252a204524fa228739f29f2">In Summary</h3>

<p>Tests are about so much more than just checking that your code does what you thought it did. Automated tests are a way
to explore the limitations of your code, to discover how it behaves under a range of inputs, and to
&ldquo;document&rdquo; the expected behaviour (both under normal use and exceptional circumstances), by writing down in code that
 gets executed in your CI environment what the production code is supposed to do.</p>

<p>There are a wealth of resources out there about writing tests, whether you follow BDD, TDD, or are happy to write
tests that cover existing functionality. Whichever path you choose, a tool like IntelliJ IDEA makes it easy to write
and run your automated tests.</p>

        </article>
  </div>
</section>



<aside id="meta">

<div>
    <section id="datecount">
        <h4 id="date"> Fri Aug 7, 2015 </h4>
        <h5 id="wc"> 1000 Words </h5>
    </section>
    <ul id="categories">
        
    </ul>
    <ul id="tags">
        
        <li><a href="http://localhost:1313//tags/"></a></li>
        
    </ul>
</div>

<div>
    <section id="prev">
        &nbsp;
    </section>
    <section id="next">
        &nbsp;<a class="next" href="http://localhost:1313/post/java_8_mooc_session3/">Java 8 MOOC - Session 3 Summary <i class="icon-arrow-right"></i></a>
    </section>
</div>

<div>
    <section id="author">
        <h4>About the Author:</h4>
        Trisha is a Java Champion, a MongoDB Master, and a leader of the
        Sevilla Java User Group. She works for
        <a href="https://www.jetbrains.com/">JetBrains</a> who very kindly pay her
        to do what she loves. She believes we
        shouldn't all have to make the same mistakes again and again.
    </section>
</div>

</aside>

<meta itemprop="wordCount" content="908">
<meta itemprop="datePublished" content="2015-08-07">
<meta itemprop="url" content="http://localhost:1313/other-sites/intellij-writing-good-tests/">


<aside id=comments>
    <div><h2> Comments </h2></div>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'trishagee';
    var disqus_identifier = 'http:\/\/localhost:1313\/other-sites\/intellij-writing-good-tests\/';
    var disqus_title = 'Tests';
    var disqus_url = 'http:\/\/trishagee.github.io\/post\/tests';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</aside>

<footer>
    <div>
        <p>
            &copy; 2013-14 <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Trisha Gee.</span></span>
            <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons Attribution">Some rights reserved</a>;
            please attribute properly and link back. <br>
            Powered by <a href="http://hugo.spf13.com">Hugo</a>.
            Original layout created by Steve Francia <a href="http://http://spf13.com/">http://spf13.com/</a>, derived from <a
                href="https://github.com/spf13/spf13.com">https://github.com/spf13/spf13.com</a>.
        </p>
    </div>
</footer>
<script type="text/javascript">

    var _gaq = _gaq || [];

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-49006189-1', 'auto');
    ga('send', 'pageview');

    (function () {
        var j = function (a, b) {
            return window.getComputedStyle ? getComputedStyle(a).getPropertyValue(b) : a.currentStyle[b]
        };
        var k = function (a, b, c) {
            if (a.addEventListener)a.addEventListener(b, c, false); else a.attachEvent('on' + b, c)
        };
        var l = function (a, b) {
            for (key in b)if (b.hasOwnProperty(key))a[key] = b[key];
            return a
        };
        window.fitText = function (d, e, f) {
            var g = l({'minFontSize': -1 / 0, 'maxFontSize': 1 / 0}, f);
            var h = function (a) {
                var b = e || 1;
                var c = function () {
                    a.style.fontSize = Math.max(Math.min(a.clientWidth / (b * 10), parseFloat(g.maxFontSize)), parseFloat(g.minFontSize)) + 'px'
                };
                c();
                k(window, 'resize', c)
            };
            if (d.length)for (var i = 0; i < d.length; i++)h(d[i]); else h(d);
            return d
        }
    })();
    fitText(document.getElementById('title'), 1)

</script>
<script>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body>
</html>

