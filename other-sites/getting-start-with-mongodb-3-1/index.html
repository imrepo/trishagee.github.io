<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
    <meta charset="utf-8">
    <meta name="google-site-verification" content="UA-25393690-2">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="description" content="">
<meta name="keywords" content="">

 
<meta property="og:type" content="article"/>
<meta property="og:description" content=""/>
<meta property="og:title" content=" : trishagee.github.io"/>
<meta property="og:site_name" content="Trisha Gee"/>
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="http://trishagee.github.io/other-sites/getting-start-with-mongodb-3-1/">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2008-01-01"/>
<meta property="article:modified_time" content="2008-01-01"/>




<meta name="twitter:card" content="summary">

<meta name="twitter:site" content="@trisha_gee">
<meta name="twitter:title" content=" : trishagee.github.io">
<meta name="twitter:creator" content="@trishagee">
<meta name="twitter:description" content="">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="trishagee.github.io">



    <base href="http://trishagee.github.io">
    <title>  - trishagee.github.io </title>
    <link rel="canonical" href="http://trishagee.github.io/other-sites/getting-start-with-mongodb-3-1/">
    

    <link href='http://fonts.googleapis.com/css?family=Fjalla+One|Open+Sans:300' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/static/css/style.css">
<link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/default.min.css">
<script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

    <link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/default.min.css">
    <script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
</head>

<body lang="en" itemscope itemtype="http://schema.org/Article">
<header id="header">
    <div id="byline">by Trisha Gee</div>
    <nav id="nav">
        <ul id="mainnav">
    <li>
        <a href="/post/">
            <span class="icon"> <i aria-hidden="true" class="icon-quill"></i></span>
            <span> blog </span>
        </a>
    </li>
    <li>
        <a href="/project/">
            <span class="icon"> <i aria-hidden="true" class="icon-console"></i></span>
            <span> code </span>
        </a>
    </li>
    <li>
        <a href="/presentation/">
            <span class="icon"> <i aria-hidden="true" class="icon-stats"></i></span>
            <span> talks </span>
        </a>
    </li>
    <li>
        <a href="/resources/">
            <span class="icon"> <i aria-hidden="true" class="icon-gears"></i></span>
            <span> resources </span>
        </a>
    </li>
</ul>

        <ul id="social">
    <li id="share">
        <span class="icon icon-bubbles"> </span>
        <span class="title"> share </span>

        <div class="dropdown share">
            <ul class="social">
                <li><a href="https://twitter.com/intent/tweet?status=-http%3a%2f%2ftrishagee.github.io%2fother-sites%2fgetting-start-with-mongodb-3-1%2f" target="_blank"
                       title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a></li>
                <li><a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2ftrishagee.github.io%2fother-sites%2fgetting-start-with-mongodb-3-1%2f" target="_blank" title="Join me on Facebook"
                       class="facebook"><span class="icon icon-facebook"></span>Facebook</a></li>
                <li><a href="https://plus.google.com/share?url=http%3a%2f%2ftrishagee.github.io%2fother-sites%2fgetting-start-with-mongodb-3-1%2f" target="_blank" title="Google+" class="googleplus"><span
                        class="icon icon-google-plus"></span>Google+</a></li>
                <li><a href="http://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2ftrishagee.github.io%2fother-sites%2fgetting-start-with-mongodb-3-1%2f&title=&source=spf13"
                       target="_blank" title="LinkedIn" class="linkedin"><span class="icon icon-linkedin"></span>LinkedIn</a></li>
                <li><a href="http://del.icio.us/post?url=http%3a%2f%2ftrishagee.github.io%2fother-sites%2fgetting-start-with-mongodb-3-1%2f" target="_blank" title="Delicious" class="delicious"><span
                        class="icon icon-delicious"></span>Delicious</a></li>
                <li><a href="http://www.reddit.com/submit?url=http%3a%2f%2ftrishagee.github.io%2fother-sites%2fgetting-start-with-mongodb-3-1%2f" target="_blank" title="Reddit" class="reddit"><span
                        class="icon icon-reddit"></span>Reddit</a></li>
                <li><a href="http://www.stumbleupon.com/submit?url=http%3a%2f%2ftrishagee.github.io%2fother-sites%2fgetting-start-with-mongodb-3-1%2f" target="_blank" title="StumbleUpon"
                       class="stumbleupon"><span class="icon icon-stumbleupon"></span>StumbleUpon</a></li>
                <li><a href="http://www.dzone.com/links/add.html?url=http%3a%2f%2ftrishagee.github.io%2fother-sites%2fgetting-start-with-mongodb-3-1%2f&title=" target="_blank" title="DZone"
                       class="dzone"><span class="icon icon-dzone"></span>DZone</a></li>
            </ul>
            <span class="subcount">sharing is caring</span>
        </div>
    </li>
    <li id="follow">
        <span class="icon icon-rocket"> </span>
        <span class="title"> follow </span>

        <div class="dropdown follow">
            <ul class="social">
                <li><a href="http://trishagee.github.io/index.xml" target="_blank" title="Subscribe by RSS" class="rss"><span
                        class="icon icon-feed-2"></span>RSS</a></li>
                <li><a href="http://www.twitter.com/trisha_gee" target="_blank" title="Follow me on Twitter" class="twitter"><span
                        class="icon icon-twitter"></span>Twitter</a></li>
                <li><a href="http://www.linkedin.com/in/trishagee" target="_blank" title="LinkedIn" class="linkedin"><span class="
                        icon icon-linkedin"></span>LinkedIn</a></li>
                <li><a href="http://github.com/trishagee" target="_blank" title="GitHub" class="github"><span class="
                        icon icon-github"></span>GitHub</a></li>
                <li><a href="http://www.slideshare.net/trishagee" target="_blank" title="SlideShare" class="slideshare"><span
                        class="icon icon-slideshare"></span>SlideShare</a></li>
                <li><a href="https://plus.google.com/+TrishaGee/" target="_blank" title="Google+" class="googleplus"><span
                        class="icon icon-google-plus"></span>Google+</a></li>
            </ul>
            <span class="subcount"></span>
        </div>
    </li>
</ul>

    </nav>
</header>



<section id="main">
  <h1 itemprop="name" id="title"></h1>
  <div>
        <article itemprop="articleBody" id="content">
           

<h2 id="toc_0">Getting started with MongoDB and Java</h2>

<p>Java is one of the most popular programming languages in the MongoDB Community. For new users, it&rsquo;s important to provide an overview of how to work with the MongoDB Java driver and how to use MongoDB as a Java developer.</p>

<p>In this post, which is aimed at Java/JVM developers who are new to MongoDB, we&rsquo;re going to give you a guide on how to get started, including:</p>

<ul>
<li>Installation</li>
<li>Setting up your dependencies</li>
<li>Connecting</li>
<li>What are Collections and Documents?</li>
<li>The basics of writing to and reading from the database</li>
<li>An overview of some of the JVM libraries</li>
</ul>

<h2 id="toc_1">Installation</h2>

<p>The installation instructions for MongoDB are <a href="http://docs.mongodb.org/manual/installation/">extensively documented</a>,
so I&rsquo;m not going to repeat any of that here. If you want to follow along with this &ldquo;getting started&rdquo; guide, you&rsquo;ll want to download the appropriate version of MongoDB and unzip/install it. At the time of writing, the latest version of MongoDB is 2.6.3, which is the version I&rsquo;ll be using.</p>

<h3 id="toc_2">A note about security</h3>

<p>In a real production environment, of course you&rsquo;re going to want to consider authentication. This is something that MongoDB takes seriously and there&rsquo;s a whole section of <a href="http://docs.mongodb.org/manual/administration/security/">documentation on security</a>. But for the purpose of this demonstration, I&rsquo;m going to assume you&rsquo;ve either got that working or you&rsquo;re running in &ldquo;trusted mode&rdquo; (i.e. that you&rsquo;re in a development environment that isn&rsquo;t open to the public).</p>

<h3 id="toc_3">Take a look around</h3>

<p>Once you&rsquo;ve got mongodb installed and started (a process that should only take a few minutes), you can <a href="http://docs.mongodb.org/manual/tutorial/getting-started/#connect-to-a-database">connect to the MongoDB shell</a>. Most of the MongoDB technical documentation is written for the shell, so it&rsquo;s always useful to know how to access it, and how use it to troubleshoot problems or prototype solutions.</p>

<p>When you&rsquo;ve connected, you should see something like</p>

<pre>MongoDB shell version: 2.6.3
connecting to: test
> _ </pre>

<p>Since you&rsquo;re in the console, let&rsquo;s take it for a spin. Firstly we&rsquo;ll have a
<a href="http://docs.mongodb.org/manual/tutorial/getting-started/#select-a-database">look at all the databases</a> that are there right now:</p>

<pre>> show dbs</pre>

<p>Assuming this is a clean installation, there shouldn&rsquo;t be much to see:</p>

<pre>> show dbs
admin (empty)
local 0.078GB
> </pre>

<p>That&rsquo;s great, but <a href="http://docs.mongodb.org/manual/tutorial/getting-started/">as you can see there&rsquo;s loads of documentation</a> on how to
play with MongoDB from the shell. The shell is a really great environment for trying out queries and looking at things from the server point-of-view. However, I promised you Java, so we&rsquo;re going to step away from the shell and get on with connecting via Java.</p>

<h2 id="toc_4">Getting started with Java</h2>

<p>First, you&rsquo;re going to want to set up your project/IDE to use the
<a href="http://docs.mongodb.org/ecosystem/tutorial/getting-started-with-java-driver/#getting-started-with-java-driver">MongoDB Java Driver</a>.
These days IDEs tend to pick up the correct dependencies through your <a href="http://www.gradle.org/">Gradle</a> or
<a href="http://maven.apache.org/">Maven</a> configuration, so I&rsquo;m just going to cover configuring these.</p>

<p>At the time of writing, the latest version of the Java driver is 3.0 - this is designed to work with the MongoDB 2.8 series.</p>

<h3 id="toc_5">Gradle</h3>

<p>You&rsquo;ll need to add the following to your dependencies in build.gradle:</p>

<p>compile &lsquo;org.mongodb:mongo-java-driver:3.0.0&rsquo;</p>

<h3 id="toc_6">Maven</h3>

<p>For maven, you&rsquo;ll want:</p>

<pre><code>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;
        &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;
        &lt;version&gt;3.0.0&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>

<p>Alternatively, if you&rsquo;re really old-school and like maintaining your dependencies the hard way, you can always <a href="http://central.maven.org/maven2/org/mongodb/mongo-java-driver/">download the JAR file</a>.</p>

<p>If you don&rsquo;t already have a project that you want to try with MongoDB, I&rsquo;ve created a
<a href="https://github.com/trishagee/mongodb-getting-started/tree/3.0">series of unit tests on github</a> which you can use to get a feel for working with MongoDB and the new Java driver.</p>

<h2 id="toc_7">Connecting via Java</h2>

<p>Assuming you&rsquo;ve resolved your dependencies and you&rsquo;ve set up your project, you&rsquo;re ready to connect to MongoDB from your Java application.</p>

<p>Since MongoDB is a NoSQL database, you might not be surprised to learn that you don&rsquo;t connect to it via traditional SQL/relational DB methods like JDBC. But it&rsquo;s simple all the same:</p>

<pre><code>MongoClient mongoClient = new MongoClient(new MongoClientURI(&quot;mongodb://localhost:27017&quot;));
</code></pre>

<p>Where I&rsquo;ve put <code>mongodb://localhost:27017</code>, you&rsquo;ll want to put the address of where you&rsquo;ve installed MongoDB. There&rsquo;s more detailed information on how to create the correct URI, including how to connect to a <a href="http://docs.mongodb.org/manual/replication/">Replica Set</a>, in the <a href="http://api.mongodb.org/java/current/com/mongodb/MongoClientURI.html">MongoClientURI documentation</a>.</p>

<p>If you&rsquo;re connecting to a local instance on the default port, you can simply use:</p>

<pre><code>MongoClient mongoClient = new MongoClient();
</code></pre>

<p>The <code>MongoClient</code> is your route in to MongoDB, from this you&rsquo;ll get your database and collections to work with (more on this later). Your instance of <code>MongoClient</code> (e.g. <code>mongoClient</code> above) will ordinarily be a singleton in your application. However, if you need to connect via different credentials (different user names and passwords) you&rsquo;ll want a <code>MongoClient</code> per set of credentials.</p>

<p>It is important to limit the number of <code>MongoClient</code> instances in your application, hence why we suggest a singleton - the <code>MongoClient</code> is effectively the connection pool, so for every new <code>MongoClient</code>, you are opening a new pool. Using a single <code>MongoClient</code> (and optionally <a href="http://api.mongodb.org/java/2.12/com/mongodb/MongoClientOptions.Builder.html">configuring its settings</a>) will allow the driver to correctly manage your connections to the server. This <code>MongoClient</code> singleton is <a href="http://docs.mongodb.org/ecosystem/drivers/java-concurrency/">safe to be used by multiple threads</a>.</p>

<p>One final thing you need to be aware of: you want your application to shut down the connections to MongoDB when it finishes running. Always make sure your application or web server calls <code>MongoClient.close()</code> when it shuts down.</p>

<p>Try out connecting to MongoDB by getting the test in <a href="https://github.com/trishagee/mongodb-getting-started/blob/3.0/src/test/java/com/mechanitis/mongodb/gettingstarted/Exercise1ConnectingTest.java">Exercise1ConnectingTest</a> to pass.</p>

<h3 id="toc_8">Where are my tables?</h3>

<p>MongoDB doesn&rsquo;t have tables, rows, columns, joins etc. There are some new concepts to learn when you&rsquo;re using it, but nothing too challenging.</p>

<p>While you still have the concept of a <a href="http://docs.mongodb.org/manual/reference/glossary/#term-database">database</a>,
the <a href="http://docs.mongodb.org/manual/reference/glossary/#term-document">documents</a> (which we&rsquo;ll cover in more detail later) are stored in
<a href="http://docs.mongodb.org/manual/reference/glossary/#term-collection">collections</a>, rather than your database being made up of tables of
data. But it can be helpful to think of documents like rows and collections like tables in a traditional database. And collections can have
<a href="http://docs.mongodb.org/manual/core/indexes-introduction/">indexes</a> like you&rsquo;d expect.</p>

<h3 id="toc_9">Selecting Databases and Collections</h3>

<p>You&rsquo;re going to want to define which databases and collections you&rsquo;re using in your Java application. If you remember, a few sections ago we used the MongoDB shell to show the databases in your MongoDB instance, and you had an <code>admin</code> and a <code>local</code>.</p>

<p>Creating and getting a database or collection is extremely easy in MongoDB:</p>

<pre><code>MongoDatabase database = mongoClient.getDatabase(&quot;TheDatabaseName&quot;);
</code></pre>

<p>You can replace <code>&quot;TheDatabaseName&quot;</code> with whatever the name of your database is. If the database doesn&rsquo;t already exist, it will be created automatically the first time you insert anything into it, so there&rsquo;s no need for null checks or exception handling on the off-chance the database doesn&rsquo;t exist.</p>

<p>Getting the collection you want from the database is simple too:</p>

<pre><code>MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;TheCollectionName&quot;);
</code></pre>

<p>Again, replacing <code>&quot;TheCollectionName&quot;</code> with whatever your collection is called.</p>

<p>If you&rsquo;re playing along with the test code, you now know enough to get the tests
in <a href="https://github.com/trishagee/mongodb-getting-started/blob/3.0/src/test/java/com/mechanitis/mongodb/gettingstarted/Exercise2MongoClientTest.java">Exercise2MongoClientTest</a> to pass</p>

<h2 id="toc_10">An Introduction to documents</h2>

<p>Something that is, hopefully, becoming clear to you as you work through the examples in this post, is that MongoDB is different from the traditional relational databases you&rsquo;ve used. As I&rsquo;ve mentioned, there are collections, rather than tables, and documents, rather than rows and columns.</p>

<p>Documents are much more flexible than a traditional row, as you have a dynamic schema rather than an enforced one. You can evolve the document over time without incurring the cost of schema migrations and tedious update scripts. But I&rsquo;m getting ahead of myself.</p>

<p>Although documents don&rsquo;t look like the tables, columns and rows you&rsquo;re used to, they should look familiar if you&rsquo;ve done anything even remotely JSON-like. Here&rsquo;s an example:</p>

<pre><code>person = {
  _id: &quot;jo&quot;,
  name: &quot;Jo Bloggs&quot;,
  age: 34,
  address: {
    street: &quot;123 Fake St&quot;,
    city: &quot;Faketon&quot;,
    state: &quot;MA&quot;,
    zip: &quot;12345&quot;
  }
  books: [ 27464, 747854, ...]
}
</code></pre>

<p>There are a few interesting things to note:</p>

<ol>
<li>Like JSON, documents are structures of name/value pairs, and the values can be one of a number of <a href="http://docs.mongodb.org/manual/reference/bson-types/">primitive types</a>, including Strings and various number types.</li>
<li>It also supports nested documents - in the example above, <code>address</code> is a subdocument inside the <code>person</code> document. Unlike a relational database, where you might store this in a separate table and provide a reference to it, in MongoDB if that data benefits from always being associated with its parent, you can embed it in its parent.</li>
<li>You can even store an array of values. The books field in the example above is an array of integers that might represent, for example, IDs of books the person has bought or borrowed.</li>
</ol>

<p>You can find out more detailed information about Documents in <a href="http://docs.mongodb.org/manual/core/document/">the documentation</a>.</p>

<h3 id="toc_11">Creating a document and saving it to the database</h3>

<p>In Java, if you wanted to create a document like the one above, you&rsquo;d do something like:</p>

<pre><code>List&lt;Integer&gt; books = Arrays.asList(27464, 747854);
Document person = new Document(&quot;_id&quot;, &quot;jo&quot;)
        .append(&quot;name&quot;, &quot;Jo Bloggs&quot;)
        .append(&quot;address&quot;, new Document(&quot;street&quot;, &quot;123 Fake St&quot;)
                .append(&quot;city&quot;, &quot;Faketon&quot;)
                .append(&quot;state&quot;, &quot;MA&quot;)
                .append(&quot;zip&quot;, 12345))
        .append(&quot;books&quot;, books);
</code></pre>

<p>At this point, it&rsquo;s really easy to save it into your database:</p>

<pre><code>MongoClient mongoClient = new MongoClient();
MongoDatabase database = mongoClient.getDatabase(&quot;Examples&quot;);
MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;people&quot;);

collection.insertOne(person);
</code></pre>

<p>Note that the first three lines are set-up, and you don&rsquo;t need to re-initialize those every time.</p>

<p>Now if we look inside MongoDB, we can see that the database has been created:</p>

<pre><code>&gt; show dbs
Examples  0.078GB
admin     (empty)
local     0.078GB
&gt; _
</code></pre>

<p>&hellip;and we can see the collection has been created as well:</p>

<pre><code>&gt; use Examples
switched to db Examples
&gt; show collections
people
system.indexes
&gt; _
</code></pre>

<p>&hellip;finally, we can see the our person, &ldquo;Jo&rdquo;, was inserted:</p>

<pre><code>&gt; db.people.findOne()
{
    &quot;_id&quot; : &quot;jo&quot;,
    &quot;name&quot; : &quot;Jo Bloggs&quot;,
        &quot;age&quot;: 34,
    &quot;address&quot; : {
        &quot;street&quot; : &quot;123 Fake St&quot;,
        &quot;city&quot; : &quot;Faketon&quot;,
        &quot;state&quot; : &quot;MA&quot;,
        &quot;zip&quot; : &quot;12345&quot;
    },
    &quot;books&quot; : [
        27464,
        747854
    ]
}
&gt; _
</code></pre>

<p>As a Java developer, you can see the similarities between the Document that&rsquo;s stored in MongoDB, and your domain object. In your code, that person would probably be a Person class, with simple primitive fields, an array field, and an Address field.</p>

<p>So rather than building your <code>Document</code> manually like the above example, you&rsquo;re more likely to be converting your domain object into a Document. It&rsquo;s best not to have the MongoDB-specific <code>Document</code> class in your domain objects, so you might want to create a <code>PersonAdaptor</code> that converts your <code>Person</code> domain object to a <code>Document</code>:</p>

<pre><code>public static Document toDocument(final Person person) {
    return new Document(&quot;_id&quot;, person.getId())
            .append(&quot;name&quot;, person.getName())
            .append(&quot;address&quot;, new Document(&quot;street&quot;, person.getAddress().getStreet())
                    .append(&quot;city&quot;, person.getAddress().getTown())
                    .append(&quot;phone&quot;, person.getAddress().getPhone()))
            .append(&quot;books&quot;, person.getBookIds());
}
</code></pre>

<p>As before, once you have the Document, you can save this into MongoDB:</p>

<pre><code>collection.insertOne(PersonAdaptor.toDocument(myPerson));
</code></pre>

<p>Now you&rsquo;ve got all the basics to get the tests in
<a href="https://github.com/trishagee/mongodb-getting-started/blob/3.0/src/test/java/com/mechanitis/mongodb/gettingstarted/Exercise3InsertTest.java">Exercise3InsertTest</a> to pass.</p>

<h3 id="toc_12">Getting documents back out again</h3>

<p>Now you&rsquo;ve saved a Person to the database, and we&rsquo;ve seen it in the database using the shell, you&rsquo;re going to want to get it back out into your Java application. In this post, we&rsquo;re going to cover the very basics of retrieving a document - in a later post we&rsquo;ll cover more complex querying.</p>

<p>You&rsquo;ll have guessed by the fact that MongoDB is a NoSQL database that we&rsquo;re not going to be using SQL to query. Instead, we query by example, building up a document that looks like the document we&rsquo;re looking for. So if we wanted to look for the person we saved into the database, &ldquo;Jo Bloggs&rdquo;, we remember that the <code>_id</code> field had the value of &ldquo;jo&rdquo;, and we create a document that matches this shape:</p>

<pre><code>Document query = new Document(&quot;_id&quot;, &quot;jo&quot;);
MongoCursor&lt;Document&gt; cursor = collection.find(query).iterator();
</code></pre>

<p>As you can see, the <code>find</code> method allows you to get to an iterator, which is a cursor for the results. Since <code>_id</code> needs to be unique, we know that if we look for a document with this ID, we will find only one document, so we can alternatively do:</p>

<pre><code>Document query = new Document(&quot;_id&quot;, &quot;jo&quot;);
Document jo = collection.find(query).first();
</code></pre>

<p>Earlier we saw that documents are simply made up of name/value pairs, where the value can be anything from a simple String or primitive, to more complex types like arrays or subdocuments. Therefore in Java, we can more or less treat Document as a <code>Map&lt;String,
Object&gt;</code>. So if we wanted to look at the fields of the document we got back from the database, we can get them with:</p>

<pre><code>Object name = jo.get(&quot;name&quot;);
</code></pre>

<p>But there are also type-safe getters if you know the type of your values, for example:</p>

<pre><code>String name = jo.getString(&quot;name&quot;);
Integer age = jo.getInteger(&quot;age&quot;);
</code></pre>

<p>If you&rsquo;re still playing along with the example code, you&rsquo;re now ready to take on all the tests in
<a href="https://github.com/trishagee/mongodb-getting-started/blob/3.0/src/test/java/com/mechanitis/mongodb/gettingstarted/Exercise4RetrieveTest.java">Exercise4RetrieveTest</a></p>

<h2 id="toc_13">Overview of JVM Libraries</h2>

<p>So far I&rsquo;ve shown you the basics of the official Java Driver, but you&rsquo;ll notice that it&rsquo;s quite low-level - you have to do a lot of taking things out of your domain objects and poking them into MongoDB-shaped Documents, and vice-versa. If this is the level of control you want, then the Java driver makes this easy for you. But if it seems like this is extra work that you shouldn&rsquo;t have to do, there are plenty of other options for you.</p>

<p>The tools I&rsquo;m about to describe all use the MongoDB Java Driver at their core to interact with MongoDB. They provide a high-level abstraction for converting your domain objects into MongoDB documents, whilst also giving you a way to get to the underlying driver as
well in case you need to use it at a lower level.</p>

<h3 id="toc_14">Morphia</h3>

<p>Morphia is a really lightweight ODM (Object Document Mapper), so it&rsquo;s similar to
<a href="http://en.wikipedia.org/wiki/Object-relational_mapping">ORMs</a> like Hibernate. Documents can be in a fairly similar shape to your Java domain objects, so this mapping can be automatic, but Morphia allows you point the mapper in the right direction.</p>

<p>Morphia is open source, and has contributors from MongoDB. Sample code and documentation can be <a href="https://github.com/mongodb/morphia/wiki">found here</a>.</p>

<h3 id="toc_15">Spring Data</h3>

<p>Another frequently used ODM is <a href="http://projects.spring.io/spring-data/">Spring Data</a>. This supports traditional relational and non-relational databases, <a href="http://projects.spring.io/spring-data-mongodb/">including MongoDB</a>. If you&rsquo;re already using Spring in your application, this should be a familiar way to work.</p>

<p>As always with Spring projects, there&rsquo;s a lot of really great documentation, including a
<a href="http://spring.io/guides/gs/accessing-data-mongodb/">Getting Started guide</a> with example code.</p>

<h3 id="toc_16">MongoJack</h3>

<p>If you&rsquo;re working with web services or something else that supports JSON, and you&rsquo;re using <a href="http://wiki.fasterxml.com/JacksonHome">Jackson</a> to work with this data, it probably seems like a waste to be turning it from this form into a Java object and then into a MongoDB Document. But <a href="http://mongojack.org/">MongoJack</a> might make your job easier, as it&rsquo;s designed to map JSON objects directly into MongoDB. Take a look at the <a href="http://mongojack.org/tutorial.html">example code and documentation</a>.</p>

<h3 id="toc_17">Jongo</h3>

<p>This is another <a href="http://wiki.fasterxml.com/JacksonHome">Jackson</a>-based ODM, but provides an interesting extra in the form of supporting queries the way you&rsquo;d write them in <a href="http://docs.mongodb.org/manual/reference/mongo-shell/">the shell</a>. Documentation
and example code is available on <a href="http://jongo.org/">the website</a>.</p>

<h3 id="toc_18">Grails MongoDB GORM</h3>

<p>The Grails web application framework also supports its own Object-Relational Mapping (<a href="http://grails.org/doc/2.4.x/guide/GORM.html">GORM</a>), including <a href="http://grails.org/plugin/mongodb">support for MongoDB</a>. More documentation for this plugin <a href="http://grails.github.io/grails-data-mapping/mongo/manual/index.html">can be found here</a>.</p>

<h3 id="toc_19">Casbah</h3>

<p>This isn&rsquo;t an ODM like the other tools mentioned, but the <a href="https://github.com/mongodb/casbah">officially supported Scala driver</a> for MongoDB. Like the previous libraries, it uses the MongoDB Java Driver under the covers, but it provides a Scala API for application developers to work with. If you like working with Scala but are searching for an async solution, consider <a href="http://reactivemongo.org/">ReactiveMongo</a>, a community-supported driver that provides async and non-blocking operations.</p>

<h3 id="toc_20">Other libraries and tools</h3>

<p>This is far from an extensive list, and I apologise if I&rsquo;ve left a favourite out. But we&rsquo;ve compiled
<a href="http://docs.mongodb.org/ecosystem/drivers/java/#third-party-frameworks-and-libs">a list of many more libraries for the JVM</a>,
which includes community projects and officially supported drivers.</p>

<h2 id="toc_21">Conclusion</h2>

<p>We&rsquo;ve covered the basics of using MongoDB from Java - we&rsquo;ve touched on what MongoDB is, and you can find out a lot more detailed information about it from <a href="http://docs.mongodb.org/manual/">the manual</a>; we&rsquo;ve
<a href="http://docs.mongodb.org/manual/installation/">installed</a> it somewhere that lets us play with it; we&rsquo;ve talked a bit about collections and documents, and what these look like in Java; and we&rsquo;ve started inserting things into MongoDB and getting them back out again.</p>

<p>If you haven&rsquo;t already started playing with the test code, you can find it in
<a href="https://github.com/trishagee/mongodb-getting-started/tree/3.0">this github repository</a>. And if you get desperate and look hard enough, you&rsquo;ll even find the answers there too.</p>

<p>Try it out, and hopefully you&rsquo;ll see how easy it is to use MongoDB from Java.</p>

        </article>
  </div>
</section>



<aside id="meta">

<div>
    <section id="datecount">
        <h4 id="date"> Tue Jan 1, 2008 </h4>
        <h5 id="wc"> 2700 Words </h5>
    </section>
    <ul id="categories">
        
    </ul>
    <ul id="tags">
        
    </ul>
</div>

<div>
    <section id="prev">
        &nbsp;<a class="previous" href="http://trishagee.github.io/other-sites/getting-start-with-mongodb-3-2/"><i class="icon-arrow-left"></i> </a><br>
    </section>
    <section id="next">
        &nbsp;<a class="next" href="http://trishagee.github.io/post/the_importance_of_choosing_a_good_scale_for_your_metrics/">The importance of choosing a good scale for your metrics <i class="icon-arrow-right"></i></a>
    </section>
</div>

<div>
    <section id="author">
        <h4>About the Author:</h4>
        Trisha is a Java Champion and a leader of the Sevilla Java User Group, she believes we
        shouldn't all have to make the same mistakes again and again.
    </section>
</div>

</aside>

<meta itemprop="wordCount" content="2684">
<meta itemprop="datePublished" content="2008-01-01">
<meta itemprop="url" content="http://trishagee.github.io/other-sites/getting-start-with-mongodb-3-1/">


<aside id=comments>
    <div><h2> Comments </h2></div>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'trishagee';
    var disqus_identifier = 'http:\/\/trishagee.github.io\/other-sites\/getting-start-with-mongodb-3-1\/';
    var disqus_title = '';
    var disqus_url = 'http:\/\/trishagee.github.io\/other-sites\/getting-start-with-mongodb-3-1\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</aside>

<footer>
    <div>
        <p>
            &copy; 2013-14 <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Trisha Gee.</span></span>
            <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons Attribution">Some rights reserved</a>;
            please attribute properly and link back. <br>
            Powered by <a href="http://hugo.spf13.com">Hugo</a>.
            Original layout created by Steve Francia <a href="http://http://spf13.com/">http://spf13.com/</a>, derived from <a
                href="https://github.com/spf13/spf13.com">https://github.com/spf13/spf13.com</a>.
        </p>
    </div>
</footer>
<script type="text/javascript">

    var _gaq = _gaq || [];

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-49006189-1', 'auto');
    ga('send', 'pageview');

    (function () {
        var j = function (a, b) {
            return window.getComputedStyle ? getComputedStyle(a).getPropertyValue(b) : a.currentStyle[b]
        };
        var k = function (a, b, c) {
            if (a.addEventListener)a.addEventListener(b, c, false); else a.attachEvent('on' + b, c)
        };
        var l = function (a, b) {
            for (key in b)if (b.hasOwnProperty(key))a[key] = b[key];
            return a
        };
        window.fitText = function (d, e, f) {
            var g = l({'minFontSize': -1 / 0, 'maxFontSize': 1 / 0}, f);
            var h = function (a) {
                var b = e || 1;
                var c = function () {
                    a.style.fontSize = Math.max(Math.min(a.clientWidth / (b * 10), parseFloat(g.maxFontSize)), parseFloat(g.minFontSize)) + 'px'
                };
                c();
                k(window, 'resize', c)
            };
            if (d.length)for (var i = 0; i < d.length; i++)h(d[i]); else h(d);
            return d
        }
    })();
    fitText(document.getElementById('title'), 1)

</script>
</body>
</html>

